define(["dojo/_base/declare","dojo/_base/lang","dojo/query","dojo/dom-class","dojo/on","dojo/domReady!"],function(e,o,n,l,t){return new(e(null,{constructor:function(){this.initEvents()},dropdownMenuItemSelector:".calcite-navbar .calcite-dropdown li > a",autoCollapsePanel:!1,preventOverscrolling:!1,activePanel:null,stickyDropdownDesktop:!0,stickyDropdownMobile:!0,stickyDropdownBreakpoint:768,initEvents:function(){this.setDropdownItemEvents(),this.setDropdownToggleEvents(),this.setToggleNavbarClick(),this.setPanelEvents()},setDropdownItemEvents:function(){var e=function(e){var o=!1,a=null,s=null;if(e.currentTarget.dataset.target&&(a=n(e.currentTarget.dataset.target),console.log(e.currentTarget.dataset.target,a.length),a.length>0&&(o=l.contains(a[0],"panel"))),o){s=n(a).query(".panel-collapse"),l.contains(a[0],"in")?(a.removeClass("in"),n(s[0]).removeClass("in"),a.collapse("show"),n(s[0]).collapse("show")):(n(null).query(".panel-collapse").collapse("hide"),a.collapse("show"),n(s[0]).collapse("show"));var c=window.innerWidth<this.stickyDropdownBreakpoint;if(c&&!this.stickyDropdownMobile||!c&&!this.stickyDropdownDesktop){var i=n(".calcite-dropdown .dropdown-toggle")[0];t.emit(i,"click",{bubbles:!0,cancelable:!0})}this.activePanel=a}}.bind(this);n(this.dropdownMenuItemSelector).on("click",o.hitch(this,e))},setDropdownToggleEvents:function(){n(".calcite-dropdown .dropdown-toggle").on("click",function(e){n(this).parent().toggleClass("open"),n(".calcite-dropdown-toggle").toggleClass("open")}),n(".calcite-dropdown").on("hide.bs.dropdown",function(){n(".calcite-dropdown-toggle").removeClass("open")}),n(window).on("click",function(e){var o=n(".calcite-dropdown.open")[0];o&&0===n(e.target).closest(".calcite-dropdown").length&&(n(o).removeClass("open"),n(".calcite-dropdown-toggle").removeClass("open"))})},setToggleNavbarClick:function(){n("#calciteToggleNavbar").on("click",function(e){l.contains(n("body")[0],"calcite-nav-hidden")?n("body").removeClass("calcite-nav-hidden"):n("body").addClass("calcite-nav-hidden");var o=n(".calcite-dropdown .dropdown-toggle")[0];o&&t.emit(o,"click",{bubbles:!0,cancelable:!0})})},setPanelEvents:function(){this.autoCollapsePanel&&(n(".calcite-panels .panel .panel-collapse").on("hidden.bs.collapse",function(e){n(e.target.parentNode).query(".panel-label, .panel-close").addClass("visible-mobile-only")}),n(".calcite-panels .panel .panel-collapse").on("show.bs.collapse",function(e){n(e.target.parentNode).query(".panel-label, .panel-close").removeClass("visible-mobile-only")}))}}))});